<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html ng-app="huewi" xmlns='http://www.w3.org/1999/xhtml'>
<head>
  <title>hue Web Interface</title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
  <meta name='viewport' content='width=device-width' />

  <meta name='mobile-web-app-capable' content='yes' />
  <meta name='mobile-web-app-title' content='huewi' />
  <meta name='apple-mobile-web-app-title' content='huewi' />
  <meta name='apple-mobile-web-app-capable' content='yes' />
  <meta name='apple-mobile-web-app-status-bar-style' content='black' />

  <!--script src='http://requirejs.org/docs/release/2.1.16/minified/require.js' type='text/javascript' ></script-->
  <script src='http://code.jquery.com/jquery-1.11.2.min.js' type='text/javascript' ></script>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
  <!--link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css"-->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

  <script src="http://underscorejs.org/underscore-min.js" type="text/javascript"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js" type="text/javascript"></script>

  <script src='https://arndbrugman.github.io/huepi/huepi.js' type='text/javascript'></script>
  <script src='../huepi/huepi.js' type='text/javascript'></script>
  <script src="js/timebasedgradient.js" type="text/javascript"></script>
  <script src="js/huewiconnect.js" type="text/javascript"></script>
  <script src="js/huewi.js" type="text/javascript"></script>
  <link rel="stylesheet" href="css/huewi.css">

  <!--script src='js/cordova.js' type='text/javascript' onload="javascript:window.isCordovaApp = true;"></script-->  
</head>


<body class="timebasedgradient" id='HueStatusController' ng-controller='HueStatusController as HueStatusCtrl'>
  <div class='container' id='Groups' ng-controller='GroupController as GroupCtrl'>
    <div class='content'>
      <h3>Groups</h3>
      <div "class=list-group">
        <div class="list-group-item" ng-repeat="Group in GroupCtrl.Groups">
          <span left>{{Group.name}}</span>
          <button type="button" class="btn btn-sm right" ng-click="HueStatusCtrl.MyHue.GroupOff($index);" ng-class="{ hidden: !((Group.action.on) || ($index == 0)) }">
            <span class="glyphicon glyphicon-record" style="color:{{Group.HTMLColor}}" aria-hidden="true"></span>
          </button>

          <button type="button" class="btn btn-sm right" ng-click="HueStatusCtrl.MyHue.GroupOn($index);" ng-class="{ hidden:Group.action.on }">
            <span class="glyphicon glyphicon-certificate" aria-hidden="true"></span>
          </button>

        </div>
      </div>
    </div><!-- /content -->
  </div><!-- /container -->

  <div class='container' id='Lights' ng-controller='LightController as LightCtrl'>
    <div class='content'>
      <h3>Lights</h3>
      <div "class=list-group">
        <div class="list-group-item" ng-repeat="Light in LightCtrl.Lights" ng-class="{ grayed:!Light.state.reachable }">
          <span left>{{Light.name}}</span>
          <span ng-class="{ hidden:!Light.state.reachable }">
            <button type="button" class="btn btn-sm right" ng-click="HueStatusCtrl.MyHue.LightOff($index + 1);" ng-class="{ hidden:!Light.state.on }">
              <span class="glyphicon glyphicon-record" style="color:{{Light.HTMLColor}}" aria-hidden="true"></span>
            </button>
            <button type="button" class="btn btn-sm right" ng-click="HueStatusCtrl.MyHue.LightOn($index + 1);" ng-class="{ hidden:Light.state.on }">
              <span class="glyphicon glyphicon-certificate" aria-hidden="true"></span>
            </button>
          </span>
        </div>
      </div>
    </div><!-- /content -->
  </div><!-- /container -->

  <div class='status'>
    <h4>hue Web Interface</h4>
    <!-- Single button -->
    <div id='HueStatusbar'>
      Bridge IP: {{HueStatusCtrl.BridgeIP}} <br>
      Bridge Name: {{HueStatusCtrl.BridgeName}} <br>
      Status: {{HueStatusCtrl.Status}} <br>
    </div>
  </div><!-- /status -->
</body>
</html>
