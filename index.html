<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html ng-app="huewi" xmlns='http://www.w3.org/1999/xhtml'>

<head>
  <title>hue Web Interface</title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
  <meta name='viewport' content='width=device-width' />

  <meta name='mobile-web-app-capable' content='yes' />
  <meta name='mobile-web-app-title' content='huewi' />
  <meta name='apple-mobile-web-app-title' content='huewi' />
  <meta name='apple-mobile-web-app-capable' content='yes' />
  <meta name='apple-mobile-web-app-status-bar-style' content='black' />

  <!--script src='http://requirejs.org/docs/release/2.1.16/minified/require.js' type='text/javascript' ></script-->
  <script src='http://code.jquery.com/jquery-1.11.2.min.js' type='text/javascript'></script>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
  <!--link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css"-->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

  <script src="http://underscorejs.org/underscore-min.js" type="text/javascript"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js" type="text/javascript"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular-animate.min.js" type="text/javascript"></script>

  <script src='https://arndbrugman.github.io/huepi/huepi.js' type='text/javascript'></script>
  <script src='../huepi/huepi.js' type='text/javascript'></script>

  <script src="js/timebasedgradient.js" type="text/javascript"></script>
  <script src="js/navdrawer.js" type="text/javascript"></script>

  <script src="js/huewi.js" type="text/javascript"></script>
  <link rel="stylesheet" href="css/huewi.css">

  <!--script src='js/cordova.js' type='text/javascript' onload="javascript:window.isCordovaApp = true;"></script-->
</head>

<body class="timebasedgradient" id='HueStatus' ng-controller='HueStatusController as HueStatusCtrl'>

<div id='Menu' ng-controller='MenuController as MenuCtrl'>
  <div id="navcontainer">
    <div id="navbutton" class="glyphicon glyphicon-menu-hamburger"></div>
    <nav id="navdrawer">
      <h4>Settings</h4>
      <ul class="list-group">
        <div class="list-group">
          <li class="list-group-item" ng-click="SetMenuItem('Schedules')">Schedules</li>
          <li class="list-group-item" ng-click="SetMenuItem('Scenes')">Scenes</li>
          <li class="list-group-item" ng-click="SetMenuItem('Sensors')">Sensors</li>
          <li class="list-group-item" ng-click="SetMenuItem('Rules')">Rules</li>
        </div>
        <div class="list-group">
          <li class="list-group-item" ng-click="SetMenuItem('Bridge')">Bridge</li>
        </div>
        <div class="list-group">
          <li class="list-group-item" onclick="delete localStorage.MyHueBridgeIP;window.location.reload(true);">Refreshed Reload</li>
        </div>
      </ul>
    </nav>
  </div><!-- /navcontainer -->

  <div class='overlay fading' id='Connecting' ng-show='Status == "!Connected"'> <!-- == "!" vs !== "" TESTCODE. -->
    <div class='inlay content timebasedgradient'>
      <h3>Stand by while connecting...</h3>
      <div></div>
      <h4>{{Status}}</h4>
    </div><!-- /inlay content -->
    <div><br><br></div>
  </div><!-- /overlay -->

  <div class='overlay fading' id='Group' ng-controller='GroupController as GroupCtrl' ng-show='MenuItem === "Group"'>
    <div class='inlay content timebasedgradient'>
      <h3>Group: {{OrgName}}</h3>
      <div ng-click="SetMenuItem('')">Close<br></div>
      <section ng-controller="TabController as Tab">
        <ul class="nav nav-tabs">
          <li role="presentation" ng-class="{ active:TabIsSet(1) }"><a href ng-click="SetTab(1)">Color</a></li>
          <li role="presentation" ng-class="{ active:TabIsSet(2) }"><a href ng-click="SetTab(2)">Tone</a></li>
          <li role="presentation" ng-class="{ active:TabIsSet(3) }"><a href ng-click="SetTab(3)">Details</a></li>
        </ul>
        <div ng-show='TabIsSet(1)'>
          <div>
            <canvas id='hueGroupCanvas' width=32 height=32 >It seems your device doesn't support the required HTML5 Canvas</canvas>
          </div>
        </div>
        <div ng-show='TabIsSet(2)'>
          <canvas id='ctGroupCanvas' width=32 height=32 >It seems your device doesn't support the required HTML5 Canvas</canvas>
          <div>
            <button type="button" class="btn btn-sm" ng-click="MyHue.GroupSetCT(Index, 467); MyHue.GroupSetBrightness(Index, 144)">Relax</button>
            <button type="button" class="btn btn-sm" ng-click="MyHue.GroupSetCT(Index, 343); MyHue.GroupSetBrightness(Index, 240)">Reading</button>
            <button type="button" class="btn btn-sm" ng-click="MyHue.GroupSetCT(Index, 231); MyHue.GroupSetBrightness(Index, 219)">Concentrate</button>
            <button type="button" class="btn btn-sm" ng-click="MyHue.GroupSetCT(Index, 156); MyHue.GroupSetBrightness(Index, 203)">Energize</button>
            <button type="button" class="btn btn-sm" ng-click="MyHue.GroupSetColortemperature(Index, 2500); MyHue.GroupSetBrightness(Index, 144)">Gold</button>
          </div>
        </div>
        <div ng-show='TabIsSet(3)'>
          <div></div>
          <span>new GroupName: </span>
          <input type="text" ng-model="Name" ng-model-options="{ getterSetter: true }" class='timebasedgradient'>
        </div>
      </section>
      <div ng-click="SetMenuItem('')"><br>Close</div>
    </div><!-- /inlay content -->
    <div><br><br></div>
  </div><!-- /overlay -->

  <div class='overlay fading' id='Light' ng-controller='LightController as LightCtrl' ng-show='MenuItem === "Light"'>
    <div class='inlay content timebasedgradient'>
      <h3>Light: {{OrgName}}</h3>
      <div ng-click="SetMenuItem('')">Close<br></div>
      <section ng-controller="TabController as Tab">
        <ul class="nav nav-tabs">
          <li role="presentation" ng-class="{ active:TabIsSet(1) }"><a href ng-click="SetTab(1)">Color</a></li>
          <li role="presentation" ng-class="{ active:TabIsSet(2) }"><a href ng-click="SetTab(2)">Tone</a></li>
          <li role="presentation" ng-class="{ active:TabIsSet(3) }"><a href ng-click="SetTab(3)">Details</a></li>
        </ul>
        <div ng-show='TabIsSet(1)'>
          <div>
            <canvas id='hueLightCanvas' width=32 height=32 >It seems your device doesn't support the required HTML5 Canvas</canvas>
          </div>
        </div>
        <div ng-show='TabIsSet(2)'>
          <canvas id='ctLightCanvas' width=32 height=32 >It seems your device doesn't support the required HTML5 Canvas</canvas>
          <div>
            <button type="button" class="btn btn-sm" ng-click="MyHue.LightSetCT(Index, 467); MyHue.LightSetBrightness(Index, 144)">Relax</button>
            <button type="button" class="btn btn-sm" ng-click="MyHue.LightSetCT(Index, 343); MyHue.LightSetBrightness(Index, 240)">Reading</button>
            <button type="button" class="btn btn-sm" ng-click="MyHue.LightSetCT(Index, 231); MyHue.LightSetBrightness(Index, 219)">Concentrate</button>
            <button type="button" class="btn btn-sm" ng-click="MyHue.LightSetCT(Index, 156); MyHue.LightSetBrightness(Index, 203)">Energize</button> 
            <button type="button" class="btn btn-sm" ng-click="MyHue.LightSetColortemperature(Index, 2500); MyHue.LightSetBrightness(Index, 144)">Gold</button> 
          </div>
        </div>
        <div ng-show='TabIsSet(3)'>
          <div></div>
          <span>new LightName: </span>
          <input type="text" ng-model="Name" ng-model-options="{ getterSetter: true }" class='timebasedgradient'>
        </div>
      </section>
      <div ng-click="SetMenuItem('')"><br>Close</div>
    </div><!-- /inlay content -->
    <div><br><br></div>
  </div><!-- /overlay -->

  <div class='overlay fading' id='Schedules' ng-controller='SchedulesController as SchedulesCtrl' ng-show='MenuItem === "Schedules"'>
    <div class='inlay content timebasedgradient'>
      <h3>Schedules</h3>
      <div ng-click="SetMenuItem('')">Close<br></div>
      <div class="list-group-item" ng-repeat="(Key, Value) in MyHue.Schedules">
          {{Key}} - {{Value.name}}
      </div>
      <div ng-click="SetMenuItem('')"><br>Close</div>
    </div><!-- /inlay content -->
    <div><br><br></div>
  </div><!-- /overlay -->

  <div class='overlay fading' id='Scenes' ng-controller='ScenesController as ScenesCtrl' ng-show='MenuItem === "Scenes"'>
    <div class='inlay content timebasedgradient'>
      <h3>Scenes</h3>
      <div ng-click="SetMenuItem('')">Close<br></div>
      <div class="list-group-item" ng-repeat="(Key, Value) in MyHue.Scenes">
          {{Key}} - {{Value.name}}
      </div>
      <div ng-click="SetMenuItem('')"><br>Close</div>
    </div><!-- /inlay content -->
    <div><br><br></div>
  </div><!-- /overlay -->

  <div class='overlay fading' id='Sensors' ng-controller='SensorsController as SensorsCtrl' ng-show='MenuItem === "Sensors"'>
    <div class='inlay content timebasedgradient'>
      <h3>Sensors</h3>
      <div ng-click="SetMenuItem('')">Close<br></div>
      <div class="list-group-item" ng-repeat="(Key, Value) in MyHue.Sensors">
          {{Key}} - {{Value.name}}
      </div>
      <div ng-click="SetMenuItem('')"><br>Close</div>
    </div><!-- /inlay content -->
    <div><br><br></div>
  </div><!-- /overlay -->

  <div class='overlay fading' id='Rules' ng-controller='RulesController as RulesCtrl' ng-show='MenuItem === "Rules"'>
    <div class='inlay content timebasedgradient'>
      <h3>Rules</h3>
      <div ng-click="SetMenuItem('')">Close<br></div>
      <div class="list-group-item" ng-repeat="(Key, Value) in MyHue.Rules">
          {{Key}} - {{Value.name}}
      </div>
      <div ng-click="SetMenuItem('')"><br>Close</div>
    </div><!-- /inlay content -->
    <div><br><br></div>
  </div><!-- /overlay -->

  <div class='overlay fading' id='Bridge' ng-controller='BridgeController as BridgeCtrl' ng-show='MenuItem === "Bridge"'>
    <div class='inlay content timebasedgradient'>
      <h3>Bridge</h3>
      <div ng-click="SetMenuItem('')">Close<br></div>
      <div class="list-group-item" ng-repeat="(Key, Value) in MyHue.BridgeConfig.whitelist">
          {{Key}} - {{Value.name}}
      </div>
      <div>Bridge IP: {{MyHue.BridgeIP}}</div>
      <div>Bridge Name: {{MyHue.BridgeName}}</div>
      <div>Status: {{Status}}</div>
      <div ng-click="SetMenuItem('')"><br>Close</div>
    </div><!-- /inlay content -->
    <div><br><br></div>
  </div><!-- /overlay -->

  <div class='container' id='Groups' ng-controller='GroupsController as GroupsCtrl'>
    <div class='content'>
      <huewi-groups></huewi-groups>
    </div><!-- /content -->
    <div class="hideonportrait"><br><br></div><!-- Spacing on Landscape after Groups -->
  </div><!-- /container -->

  <div class='container' id='Lights' ng-controller='LightsController as LightsCtrl'>
    <div class='content'>
      <huewi-lights></huewi-lights>
    </div><!-- /content -->
    <div><br><br></div>
  </div><!-- /container -->

</div><!-- /MenuCtrl -->

  <div class='status'>
    <h4>hue Web Interface</h4>
    <!-- Single button -->
    <div id='HueStatusbar'>
      <div>Bridge IP: {{MyHue.BridgeIP}}</div>
      <div>Bridge Name: {{MyHue.BridgeName}}</div>
      <div>Status: {{Status}}</div>
    </div>
  </div><!-- /status -->
  
</body>
  
</html>